{"version":3,"sources":["api/index.js","components/Header.js","components/Footer.js","components/TopNavigation.js","components/DatePicker.js","components/Content.js","utils/index.js","constants/index.js","index.js"],"names":["fetchCurrencyData","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","code","date","result","wrap","_context","prev","next","fetch","concat","sent","abrupt","json","stop","this","_x","_x2","apply","arguments","HeaderComponent","react_default","createElement","PureComponent","FooterComponent","getPrevCurrency","currency","_this","props","index","currencies","findIndex","e","onSetCurrency","getNextCurrency","length","className","onClick","Component","TopNavigation","getPrevDate","selectDate","getNextDate","DatePickerComponent","handleChange","setDate","es","selected","onChange","withPortal","inline","ContentComponent","state","isOpen","toggleCalendar","onSetDate","prevDate","moment","subtract","nextDate","add","preventDefault","setState","TopNavigation_TopNavigation","format","DatePicker_DatePickerComponent","data","exchangedate","txt","rate","toFixed","formatDate","locale","App","toDate","updateData","t0","console","log","setCurrency","_callee2","_context2","Date","Header_HeaderComponent","Content_ContentComponent","Footer_FooterComponent","rootElement","document","getElementById","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.fc5018da.chunk.js","sourcesContent":["const API_URL = 'https://bank.gov.ua/NBUStatService/v1/statdirectory/';\n\nexport const fetchCurrencyData = async (code, date) => {\n    const result = await fetch(`${API_URL}exchange?valcode=${code}&date=${date}&json`);\n    return result.json();\n}","import React, { PureComponent } from 'react';\n\nexport default class HeaderComponent extends PureComponent {\n    render() {\n        return (\n            <div>\n                <h2>NBU Rate</h2>\n            </div>\n        );\n    }\n}\n","import React, { Component } from 'react';\n\nexport default class FooterComponent extends Component {\n    getPrevCurrency = () => {\n        const currency = this.props.currency;\n        const index = this.props.currencies.findIndex((e) => e === currency);\n        if (index === 0) return;\n        this.props.onSetCurrency(this.props.currencies[index - 1]);\n    }\n\n    getNextCurrency = () => {\n        const currency = this.props.currency;\n        const index = this.props.currencies.findIndex((e) => e === currency);\n        if (index === this.props.currencies.length - 1) return;\n        this.props.onSetCurrency(this.props.currencies[index + 1]);\n    }\n\n    render() {\n        return (\n            <div className='footerContainer'>\n                <button onClick={this.getPrevCurrency}>\n                    <div>Prev Currency</div>\n                </button>\n                <span className='currency'>{this.props.currency}</span>\n                <button onClick={this.getNextCurrency}>\n                    <div>Next Currency</div>\n                </button>\n            </div>\n        );\n    }\n}\n","import React, { Component } from 'react';\n\nexport default class TopNavigation extends Component {\n    render() {\n        return (\n            <div className='topNavigation'>\n                <button onClick={this.props.getPrevDate}>\n                    <div>Prev</div>\n                </button>\n                <button onClick={this.props.selectDate}>\n                    <div>Select Date</div>\n                </button>\n                <button onClick={this.props.getNextDate}>\n                    <div>Next</div>\n                </button>\n            </div>\n        );\n    }\n}\n","import React, { Component } from 'react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\n\nexport default class DatePickerComponent extends Component {\n    handleChange = (date) => {\n        this.props.setDate(date)\n    }\n\n    render() {\n        return (\n            <DatePicker\n                selected={this.props.date}\n                onChange={this.handleChange}\n                withPortal\n                inline\n            />\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport moment from 'moment';\nimport TopNavigation from './TopNavigation';\nimport DatePicker from './DatePicker';\n\nexport default class ContentComponent extends Component {\n    state = {\n        isOpen: false\n    }\n\n    selectDate = (date) => {\n        this.toggleCalendar()\n    }\n\n    setDate = (date) => {\n        this.toggleCalendar();\n        this.props.onSetDate(date);\n    }\n\n    toggleCalendar(e) {\n        e && e.preventDefault()\n        this.setState({ isOpen: !this.state.isOpen })\n    }\n\n    getPrevDate = () => {\n        const date = this.props.date;\n        const prevDate = moment(date).subtract(1, 'days');\n        this.props.onSetDate(prevDate);\n    }\n\n    getNextDate = () => {\n        const date = this.props.date;\n        const nextDate = moment(date).add(1, 'days');\n        this.props.onSetDate(nextDate)\n    }\n\n    render() {\n        return (\n            <div>\n                <TopNavigation\n                    selectDate={this.selectDate}\n                    getPrevDate={this.getPrevDate}\n                    getNextDate={this.getNextDate}\n                />\n                <div className='date'>{this.props.date && moment(this.props.date).format('DD.MM.YYYY')}</div>\n\n                {this.state.isOpen && <DatePicker date={moment(this.props.date)} setDate={this.setDate} />}\n\n                {this.props.data ? (\n                    <div className='dataContent'>\n                        <div className='welcome'>\n                            {this.props.data.exchangedate}\n                        </div>\n                        <div className='instructions'>\n                            {this.props.data.txt}\n                        </div>\n                        <div className='instructions'>\n                            {this.props.data.rate && this.props.data.rate.toFixed(2)}\n                        </div>\n                    </div>) : (\n                    <div>\n                        <div className='instructions'>\n                            There are no data for this day.\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\n","import moment from 'moment';\nimport { DATE_FORMAT } from '../constants';\n\nexport const formatDate = (date) => moment(date).format(DATE_FORMAT);","export const DATE_FORMAT = 'YYYYMMDD';\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport moment from 'moment';\nimport { fetchCurrencyData } from './api';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Content from './components/Content';\n\nimport { formatDate } from './utils';\n\nimport './styles.css';\n\nmoment.locale('ru');\n\nconst currencies = ['USD', 'EUR', 'RUB'];\n\nclass App extends Component {\n  state = {\n    data: {},\n    date: moment().toDate(),\n    currency: currencies[0]\n  }\n\n  componentDidMount() {\n    const date = formatDate(new Date());\n    this.updateData(this.state.currency, date);\n  }\n\n  updateData = async (code, date) => {\n    try {\n      const data = await fetchCurrencyData(code, date);\n      this.setState({ data: data[0] })\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  setDate = (date) => {\n    try {\n      this.setState({ date: date.toDate() });\n      this.updateData(this.state.currency, formatDate(date))\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  setCurrency = async (currency) => {\n    await this.setState({ currency });\n    this.updateData(this.state.currency, formatDate(this.state.date));\n  }\n\n  render() {\n    return (\n      <div>\n        <div className='container'>\n          <Header />\n\n           <Content\n            data={this.state.data}\n            date={this.state.date}\n            onSetDate={this.setDate}\n          />\n\n          <Footer\n            currency={this.state.currency}\n            currencies={currencies}\n            onSetCurrency={this.setCurrency}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}